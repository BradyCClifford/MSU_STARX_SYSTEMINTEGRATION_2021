#include<SPI.h>
#include<RF24.h>
#include<RF24Network.h>
#include<Servo.h>


RF24 radio(7,8); //Pins 7 and 8 go to the CE and CSN of the nRF
RF24Network network(radio);

const uint16_t master = 00;
const uint16_t node1  = 01;
const uint16_t node11 = 02;
const uint16_t node12 = 03;
const uint16_t node2  = 04;
const uint16_t node21 = 05;
const uint16_t node22 = 06;

void setup()
{
  SPI.begin();
  Serial.begin(9600);
  radio.begin();
  network.begin(90,master); //no idea what the 90 does apparently it's the "channel"
  radio.setDataRate(RF24_2MBPS);
}

void loop()
{
  network.update();
  //Recieving
  while(network.available()){
    RF24NetworkHeader header;
    unsigned long data;
    network.read(header,&data,sizeof(data));
    Serial.print(data);
  }
}
